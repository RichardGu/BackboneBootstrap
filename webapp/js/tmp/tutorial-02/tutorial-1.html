<!-- initial tutorial - solution using jquery -->

<!DOCTYPE html>
<html>
<head>
  <link href="css/bootstrap.css" rel="stylesheet">
  <script src="lib/jquery-1.8.1.js"></script>
</head>
<body>

<div class="container">

<h2>Javascript demo - Countries - Using jquery</h2>

  <form class="form-search">
    <input id="search-input" type="text" class="input-medium search-query">
    <button id="search-button" type="button" class="btn">Search</button>
  </form>

  <table id="countries-table" class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th>Code</th>
        <th>Name</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>

</div>

<script type="text/javascript">

$(function() {

  $('#search-button').click(function() {
    var filter = $('#search-input').val();

    var url = 'http://bb-jugar.rhcloud.com/api/countries';
    url += filter ? '?filter=' + filter : '';

    $.get(url, function(json) {
      var html = '';

      $.each(json, function() {
        html += '\
<tr> \
  <td>' + this.id + '</td> \
  <td>' + this.code + '</td> \
  <td>' + this.name + '</td> \
</tr> \
';
      });
      $('table tbody').html(html);
    });

  });

});
</script>

</body>
</html>
