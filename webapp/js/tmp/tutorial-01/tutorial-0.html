<!-- initial tutorial - just the skeleton -->

<!-- documentation reference
http://api.jquery.com/click/
http://api.jquery.com/jQuery.get/
http://underscorejs.org/#template 

// dealing with this
http://stackoverflow.com/questions/4886632/what-does-var-that-this-mean-in-javascript
http://underscorejs.org/#bind
http://api.jquery.com/jQuery.proxy/
-->

<!DOCTYPE html>
<html>
<head>
  <link href="css/bootstrap.css" rel="stylesheet">
  <script src="lib/lodash.js"></script>
  <script src="lib/jquery-1.8.1.js"></script>
</head>
<body>

<div class="container">

<h2>Javascript demo - Countries</h2>

  <form class="form-search">
    <input id="search-input" type="text" class="input-medium search-query">
    <button id="search-button" type="button" class="btn">Search</button>
  </form>

  <table id="countries-table" class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th>Code</th>
        <th>Name</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>3</th>
        <th>AF</th>
        <th>Afghanistan</th>
      </tr>
      <tr>
        <th>17</th>
        <th>AX</th>
        <th>Aland Islands</th>
      </tr>
      <tr>
        <th>6</th>
        <th>AL</th>
        <th>Albania</th>
      </tr>
    </tbody>
  </table>

  </div>

<script type="text/javascript">
/*globals $,_*/
'use strict';

var controller = {

  // element in which to insert the rendered dom
  el: undefined,

  // template to use to generate the html to insert at this.el
  template: undefined,

  // url to fetch data from
  url: undefined,

  // filter condition to pass to the url
  filter: '',

  // data fetched from the enpoint
  data: undefined,

  // method to fetch the data from the endpoint
  // after the fetch is complete, it will call render, to update the dom
  // #TODO#
  fetch: function() {},

  // fetches the data from url
  // uses the template to create the rendered content
  // inserts the result in this.el
  // #TODO#
  render: function() {}

};

// $(document).ready(function() {
$(function(){

  // the web service accepts the optional parameter filter=xxx
  // example: http://bb-jugar.rhcloud.com/api/countries?filter=ar
  controller.url = 'http://bb-jugar.rhcloud.com/api/countries';

  // configure the controller, set controller.template, controller.el
  // #TODO#

  // bind search-button
  // #TODO#
})
</script>

<script type="text/template" id="country-template">
  // create template
  // #TODO#
</script>

</body>
</html>
